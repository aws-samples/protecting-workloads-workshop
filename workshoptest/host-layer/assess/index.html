



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="This workshop shows how you can protect a web site using AWS Security Services">
      
      
        <link rel="canonical" href="https://protecting-workloads.awssecworkshops.com/workshoptest/host-layer/assess/">
      
      
        <meta name="author" content="aws-security-workshops@amazon.com">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/aws-favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.1">
    
    
      
        <title>Assess Phase - Protecting Workloads With AWS WAF, Amazon Inspector and AWS Systems Manager</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.982221ab.css">
      
      
    
    
      <script src="../../../assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../stylesheets/custom.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#identifying-and-remediating-host-vulnerabilities-host-layer-round-assess-phase" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <!--
  Copyright (c) 2016-2018 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Application header -->
<header class="md-header" data-md-component="header">

    <!-- Top-level navigation -->
    <nav class="md-header-nav md-grid">
      <div class="md-flex">
  
        <!-- Link to home -->
        <div class="md-flex__cell md-flex__cell--shrink">
          <a href="https://aws.amazon.com/"
              title="Amazon Web Services"
              class="md-header-nav__button md-logo">
            
              <img src="../../../assets/images/aws_smile_logo.png" width="40" height="24" />
            
          </a>
        </div>
  
        <!-- Button to toggle drawer -->
        <div class="md-flex__cell md-flex__cell--shrink">
          <label class="md-icon md-icon--menu md-header-nav__button"
              for="__drawer"></label>
        </div>
  
        <!-- Header title -->
        <div class="md-flex__cell md-flex__cell--stretch">
          <div class="md-flex__ellipsis md-header-nav__title"
              data-md-component="title">
            
              
                <span class="md-header-nav__topic">
                  Protecting Workloads With AWS WAF, Amazon Inspector and AWS Systems Manager
                </span>
                <span class="md-header-nav__topic">
                  Assess Phase
                </span>
              
            
          </div>
        </div>
        
        
        <!-- Button to open search dialogue -->
        <!--
        <div class="md-flex__cell md-flex__cell--shrink">
          
            
              <label class="md-icon md-icon--search md-header-nav__button"
                  for="__search"></label>
  
              
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
            
          
        </div>

         -->
         
         <div class="md-flex__cell md-flex__cell--shrink">
            <div class="md-flex__ellipsis md-header-nav__lang">
                <div>
                    <button onclick="window.location.href = 'https://awssecworkshops.com/';" class="md-lang-dropbtn fa fa-home"></button>
                </div>
            </div>
        </div>
  
        <!-- Repository containing source -->
        
          <div class="md-flex__cell md-flex__cell--shrink">
            <div class="md-header-nav__source">
              


  

<a href="https://github.com/aws-samples/protecting-workloads-workshop/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    aws-samples/protecting-workloads-workshop
  </div>
</a>
            </div>
          </div>
        
      </div>
    </nav>
  </header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../.." title="Home" class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../workshop/" title="Workshop" class="md-tabs__link">
          Workshop
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../builder-session/" title="Builder Session" class="md-tabs__link">
          Builder Session
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../" title="Workshop (Test Version)" class="md-tabs__link md-tabs__link--active">
          Workshop (Test Version)
        </a>
      
    </li>
  

      
        
      
        
      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <!--
  Copyright (c) 2016-2019 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Main navigation -->
<nav class="md-nav md-nav--primary" data-md-level="0">

  <!-- Site title -->
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://protecting-workloads.awssecworkshops.com/"
        title="Protecting Workloads With AWS WAF, Amazon Inspector and AWS Systems Manager" class="md-nav__button md-logo">
      
        <img src="../../../assets/images/aws_smile_logo.png" width="48" height="48" />
      
    </a>
    
  </label>

  <!-- Repository containing source -->
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/aws-samples/protecting-workloads-workshop/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    aws-samples/protecting-workloads-workshop
  </div>
</a>
    </div>
  

  <!-- Render item list -->
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Workshop
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Workshop
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../workshop/" title="Scenario" class="md-nav__link">
      Scenario
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../workshop/getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      Perimeter Layer
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        Perimeter Layer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../workshop/perimeter-layer/build/" title="Build Phase" class="md-nav__link">
      Build Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../workshop/perimeter-layer/assess/" title="Assess Phase" class="md-nav__link">
      Assess Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../workshop/perimeter-layer/remediate/" title="Remediate Phase" class="md-nav__link">
      Remediate Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../workshop/perimeter-layer/verify/" title="Verify Phase" class="md-nav__link">
      Verify Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../workshop/perimeter-layer/cleanup/" title="Cleanup Phase" class="md-nav__link">
      Cleanup Phase
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      Host Layer
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        Host Layer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../workshop/host-layer/build/" title="Build Phase" class="md-nav__link">
      Build Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../workshop/host-layer/assess/" title="Assess Phase" class="md-nav__link">
      Assess Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../workshop/host-layer/remediate/" title="Remediate Phase" class="md-nav__link">
      Remediate Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../workshop/host-layer/verify/" title="Verify Phase" class="md-nav__link">
      Verify Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../workshop/host-layer/cleanup/" title="Cleanup Phase" class="md-nav__link">
      Cleanup Phase
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../workshop/cleanup/" title="Cleanup" class="md-nav__link">
      Cleanup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Builder Session
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Builder Session
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../builder-session/" title="Scenario" class="md-nav__link">
      Scenario
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../builder-session/getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../builder-session/build/" title="Build Phase" class="md-nav__link">
      Build Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../builder-session/assess/" title="Assess Phase" class="md-nav__link">
      Assess Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../builder-session/remediate/" title="Remediate Phase" class="md-nav__link">
      Remediate Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../builder-session/verify/" title="Verify Phase" class="md-nav__link">
      Verify Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../builder-session/cleanup/" title="Cleanup Phase" class="md-nav__link">
      Cleanup Phase
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Workshop (Test Version)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Workshop (Test Version)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Scenario" class="md-nav__link">
      Scenario
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      Perimeter Layer
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        Perimeter Layer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../perimeter-layer/build/" title="Build Phase" class="md-nav__link">
      Build Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../perimeter-layer/assess/" title="Assess Phase" class="md-nav__link">
      Assess Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../perimeter-layer/remediate/" title="Remediate Phase" class="md-nav__link">
      Remediate Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../perimeter-layer/verify/" title="Verify Phase" class="md-nav__link">
      Verify Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../perimeter-layer/cleanup/" title="Cleanup Phase" class="md-nav__link">
      Cleanup Phase
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4" checked>
    
    <label class="md-nav__link" for="nav-4-4">
      Host Layer
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        Host Layer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../build/" title="Build Phase" class="md-nav__link">
      Build Phase
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Assess Phase
      </label>
    
    <a href="./" title="Assess Phase" class="md-nav__link md-nav__link--active">
      Assess Phase
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#examine-the-stack-that-you-built-and-its-tags" title="Examine the stack that you built and its tags" class="md-nav__link">
    Examine the stack that you built and its tags
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explore-amazon-inspector" title="Explore Amazon Inspector" class="md-nav__link">
    Explore Amazon Inspector
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-amazon-inspector-targets" title="Understanding Amazon Inspector targets" class="md-nav__link">
    Understanding Amazon Inspector targets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-the-amazon-inspector-template-and-run-the-assessment" title="Configure the Amazon Inspector template and run the assessment" class="md-nav__link">
    Configure the Amazon Inspector template and run the assessment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#learn-more-about-amazon-inspector-rules-packages" title="Learn more about Amazon Inspector Rules Packages" class="md-nav__link">
    Learn more about Amazon Inspector Rules Packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examine-the-findings" title="Examine the findings" class="md-nav__link">
    Examine the findings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../remediate/" title="Remediate Phase" class="md-nav__link">
      Remediate Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../verify/" title="Verify Phase" class="md-nav__link">
      Verify Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cleanup/" title="Cleanup Phase" class="md-nav__link">
      Cleanup Phase
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cleanup/" title="Cleanup" class="md-nav__link">
      Cleanup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../contribute/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#examine-the-stack-that-you-built-and-its-tags" title="Examine the stack that you built and its tags" class="md-nav__link">
    Examine the stack that you built and its tags
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explore-amazon-inspector" title="Explore Amazon Inspector" class="md-nav__link">
    Explore Amazon Inspector
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-amazon-inspector-targets" title="Understanding Amazon Inspector targets" class="md-nav__link">
    Understanding Amazon Inspector targets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-the-amazon-inspector-template-and-run-the-assessment" title="Configure the Amazon Inspector template and run the assessment" class="md-nav__link">
    Configure the Amazon Inspector template and run the assessment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#learn-more-about-amazon-inspector-rules-packages" title="Learn more about Amazon Inspector Rules Packages" class="md-nav__link">
    Learn more about Amazon Inspector Rules Packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examine-the-findings" title="Examine the findings" class="md-nav__link">
    Examine the findings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/aws-samples/protecting-workloads-workshop/edit/master/docs/workshoptest/host-layer/assess.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="identifying-and-remediating-host-vulnerabilities-host-layer-round-assess-phase">Identifying and Remediating Host Vulnerabilities - Host Layer Round - Assess Phase</h1>
<div class="admonition info">
<p class="admonition-title">Important note!</p>
<p><strong>We are testing out some new ideas here.  Some things may not work as expected.  We appreciate your patience.</strong></p>
</div>
<p>In the previous Build Phase, you deployed a CloudFormation stack that contains
some Amazon EC2 instances behind an application load balancer.
You are now going to learn about AWS Inspector.
AWS Inspector assesses the instances and identifies security findings that can be remediated.</p>
<p>To save time, the CloudFormation teamplate will run an initial Inspector assessment
for you.  In later phases of the workshop, you will apply patches using AWS Systems Manager
and then run another Inspector assessment to see if there is any change in the number
of findings.</p>
<p>Before you can assess the instances with Amazon Inspector, you need to identify
the instances that you want to assess.
In small environments, you can select the instance IDs from a list but in environments
with hundreds or thousands of instance, you need an easier way to select them.
For this reason, you are going to learn how to use <em>tags</em> to select the instances on which you will install the Amazon Inspector agent.
Tags are labels that can be attached to AWS resources to make it easier to
act on them collectively.</p>
<p>In this section you will do the following tasks:</p>
<ol>
<li>Examine the CloudFormation stack you built to learn about the tags that were applied by AWS CloudFormation.</li>
<li>Learn about Amazon Inspector targets, templates, and rules packages.</li>
<li>Examine Amazon Inspector findings</li>
</ol>
<h2 id="examine-the-stack-that-you-built-and-its-tags">Examine the stack that you built and its tags</h2>
<ol>
<li>
<p>Go to the CloudFormation console in the same AWS region where the stack was created..  You should see a list of stacks similar to the figure below. Locate the stack you created.  In this documentation, the name of the stack is <em>pww</em>.  If you are doing this workshop at an AWS event, the stackname may be much longer.  Make sure you can se the entire stack name.  Copy the stack name into a scratch file on your workstation in case you need it later.</p>
<p><img alt="cloudformation-stack-list" src="../images/assess-cloudformation-stacks.png" /></p>
</li>
<li>
<p>Click the <strong>check box</strong> to the left of the stack name and then click the <strong>Resources</strong> tab below.  You will see a list of resources that were deployed by the stack as shown in the figure below.</p>
<p><img alt="cloudformation-stack-resources" src="../images/assess-cloudformation-resources.png" /></p>
<p>The <em>Type</em> column lists the type of the resouces.  Notice that you will not see any resources of type AWS::EC2::Instance even though there are now EC2 instances running..  The reason for this is that the CloudFormation stack did not deploy any - at least not directly.  The stack did, however, deploy an auto scaling group with a launch configuration that in turn launched the instances.  You will now look at the auto scaling group and see how it supports tagging.</p>
</li>
<li>
<p>Continue scrolling through the resources shown by CloudFormation and look for a resource named <em>AutoScalingGroup</em> as shown in the picture below.</p>
<p><img alt="CloudFormation Auto Scaling Group" src="../images/assess-cloudformation-asg.png" /></p>
<p>Click the hyperlink next to AutoScalingGroup.  This will take you to the Amazon EC2 console and display the auto scaling group.  Click on the <em>Tags</em> tab to see how the auto scaling group handles tags.  Your console display should look similar to the picture below.</p>
<p><img alt="EC2 Auto Scaling Group" src="../images/assess-ec2asg.png" /></p>
<p>The picture above shows that there are four tags that are propogated to every EC2 instance created by the auto scaling group.  The tags include a <em>Name</em> tag and three additional tags that are generated by CloudFormation.  This tells us that every EC2instance that is launched by the auto scaling group will have a Name tag with the value of <em>pww-node</em>.</p>
<p>In a production environment, you may have a large number of resources that spin up and spin down because of the elastiicity that AWS offers.  If you understand how tags are applied you can more easily manage the environment regardless of how many instances exist at any point in time. You will now learn how to look up the Amazon EC2 instances using tags.</p>
</li>
<li>
<p>Go to the Amazon EC2 console and look for instances having a name that begins with the stack name followed by <em>-node</em>, <em>pww-node</em> in this example.  If you cannot see them, type the instance name (<em>pww-node</em> in this case) into the search box.  Select one of them by checking the box to the left of the instance and then click on the <em>Tags</em> tab.  You should see a table like that in the figure below.</p>
<p><img alt="ec2-instance-list" src="../images/assess-ec2-instance-list.png" /></p>
</li>
<li>
<p>Notice that the instance has tags reflecting the CloudFormation stack name and stack id.  These tags are added because of settings in the auto scaling group which propogate tags to newly created instances.</p>
<p>You have now learned about the tags that you can use to look up AWS resources.  You will now learn how tags can be used within Amazon Inspector to select the instances that will be assessed.</p>
</li>
</ol>
<h2 id="explore-amazon-inspector">Explore Amazon Inspector</h2>
<h3 id="understanding-amazon-inspector-targets">Understanding Amazon Inspector targets</h3>
<ol>
<li>
<p>Go to the Amazon Inspector console.</p>
</li>
<li>
<p>Click <strong>Assessment Targets</strong> on the left menu.  Assessment targets represent a group of EC2 instances that Inspector will assess.  You will see a target whose name begins with <em>InspectorTarget</em>.  Click on the arrow widget to open the target and display the details.  You should see something similar to the image below.</p>
<p><img alt="Amazon Inspector Targets" src="../images/assess-inspector-view-targets.png" /></p>
<p>In the figure above, notice that the <em>Use Tags</em> section contains a key/value pair with the entries <em>aws:cloudformation:stack-name</em> and <em>pww</em> respectively.  This Inspector target is configured to select all instances that were started by the CloudFormation stack.</p>
</li>
<li>
<p>Click the <strong>Preview Target</strong> button.  A new window opens as shown below.</p>
<p><img alt="Amazon Inspector Targets" src="../images/assess-inspector-preview-targets.png" /></p>
<p>You now see there are three Instances that Inspector will assess based on the configuration of the target.</p>
</li>
<li>
<p>Click the <strong>Assessment Templates</strong> on the left menu.  A list of assessment templates appears as shown below.</p>
<p><img alt="Amazon Inspector Targets" src="../images/assess-inspector-view-templates.png" /></p>
<p>You will see an assement template whose name begins with <em>AssessmentTemplate</em>.  Assessment templates reprsent the selection of a target and one or more rules packages.  A rules package is a collection of rules that represent security checks.   This template assesses the previously mentioned target against the following two rules packages:</p>
<p>Common Vulnerabilities and Exposures: The rules in this package help verify whether the EC2 instances in your assessment targets are exposed to common vulnerabilities and exposures (CVEs). Attacks can exploit unpatched vulnerabilities to compromise the confidentiality, integrity, or availability of your service or data. The CVE system provides a reference method for publicly known information security vulnerabilities and exposures. For more information, see <a href="https://cve.mitre.org/">MITRE</a>{target=_blank}.  If a particular CVE appears in a finding that is produced by an Amazon Inspector assessment, you can search <a href="https://cve.mitre.org/">MITRE</a>{target=_blank} for the ID of the CVE (for example, CVE-2009-0021). The search results can provide detailed information about this CVE, its severity, and how to mitigate it.</p>
<p>Security Best Practices: The rules in this package help determine whether your systems are configured securely.  For example, one rule in this package checks to see if root login has been disabled over ssh.</p>
</li>
<li>
<p>In the <em>Use Tags</em> section, select <strong>aws:cloudformation:stack-name</strong> for the key from the drop down list and select the name of the stack (<em>pww</em> in this example) from the drop down value list.</p>
</li>
<li>
<p>Uncheck the <em>Install Agents</em> check box since we have already installed the agent. Your screen should look similar to the figure below.</p>
<p><img alt="inspector-targets" src="../images/assess-inspector-targets.png" /></p>
</li>
<li>
<p>Click the <strong>Save</strong> button to save the target definition.  Inspector may prompt you for permission to create a service linked role to give the Amazon Inspector service permission to retrieve information about your instances.  If you see a prompt like the one in the figure below, click <strong>Ok</strong> to create the role.</p>
<p><img alt="inspector-service-role" src="../images/assess-inspector-slr.png" /></p>
<p>You have now created an Amazon Inspector target that identifies the instances that would be assessed.  The target selects instances based on tag values.  In this case, the tag you are using is <em>aws:cloudformation:stack-name</em> which is set to the name of the CloudFormation stack.  In particular, the tag is added to the auto scaling launch configuration which is configured to propogate the tag to the Amazon EC2 instances that it launches.  Because of this, Amazon Inspector will automatically scan new instances that may appear over the lifetime of the environment.  This is an example of how the elasticity of the AWS cloud when combined with tagging can enable you to support dynamic environments.</p>
</li>
</ol>
<h3 id="configure-the-amazon-inspector-template-and-run-the-assessment">Configure the Amazon Inspector template and run the assessment</h3>
<p>Now that you have created an Amazon Inspector target, you will now create an Amazon Inspector tepmlate.  You use templates to define the Amazon Inspector targets and rule packages that comprise an assessment run.</p>
<ol>
<li>
<p>Go to the Amazon Inspector console, click <strong>Assessment templates</strong> on the menu, and then click <strong>Create</strong>.</p>
</li>
<li>
<p>In the <em>Name</em> field, enter a name for the template.</p>
</li>
<li>
<p>In the <em>Target name</em> field, select the target you previously created from the list of options.</p>
</li>
<li>
<p>In the <em>Rules packages</em> field, select <strong>Common Vulnerabilities and Exposures</strong> and <strong>Security Best Practices</strong>.</p>
</li>
<li>
<p>In the <em>Duration</em> field, select <strong>15 minutes</strong>.  Do <strong>not</strong> accept the default value!</p>
</li>
<li>
<p>In the Assessment Schedule, uncheck (turn off) the <em>Set up recurring assessment</em> runs so that the assessment template will only run a one-time assessment.</p>
</li>
<li>
<p>Scroll to the bottom and click the <strong>Create and run</strong> button to save the template and run the assessment.  Depending on the size of your screen, you may have to scroll down multiple windows.  If you cannot click <strong>Create and run</strong>, make sure you unchecked the box in the previous step and try again.  The assessment will start and will take 15 minutes to compete.</p>
</li>
<li>
<p>On the Amazon Inspector menu, click <strong>Assessment runs</strong>.  You should see an entry for the assesment you just started.  While the assessment is running, the status will be <em>Collecting data</em>.  Periodically refresh the screen to see the current status.  When the assessment run ends, the status will change to <em>Analysis complete.</em>  The assessment will run for approximately 15 minutes.   While you are waiting, continue with the steps below.</p>
</li>
</ol>
<h3 id="learn-more-about-amazon-inspector-rules-packages">Learn more about Amazon Inspector Rules Packages</h3>
<ol>
<li>
<p>Amazon Inspector offers a variety of rules packages that can be included in assessments.  The applicable rules packages may vary by operating system.   The Common Vulnerabilities and Exposures assessment is based on the CVE project that is hosted at <a href="https://cve.mitre.org">cve.mitrei.org</a>.  Open a new tab in your browser to <a href="https://cve.mitre.org">cve.mitre.orf</a>.  Click on <strong>Search CVE List</strong>.  Enter <strong>CVE-2018-20169</strong> into the search field and click <strong>Submit</strong>.  This shows you how to research known vulnerabilities.</p>
</li>
<li>
<p>The Security Best Practices rule package examines some common configuration settings for some of the most commobn Amazon Linux settings.   You can read more about this rule package <a href="https://docs.aws.amazon.com/inspector/latest/userguide/inspector_security-best-practices.html">here</a>.</p>
</li>
</ol>
<h3 id="examine-the-findings">Examine the findings</h3>
<ol>
<li>
<p>After the assessment run has completed, go to the Amazon Inspector console and click <strong>Assessment runs</strong>.  The window should be similar to what appears below.</p>
<p><img alt="assessment-runs" src="../images/assess-inspector-runs.png" /></p>
</li>
<li>
<p>On the line that represents your most recent run, make note of the number in the <em>Findings</em> column (22 in this diagram).  After you perform the remediation later in this workshop, that number should decrease.   Click on the number in the <em>Findings</em> column.  The findings associated with the run will appear as shown below.</p>
<p><img alt="assessment-findings" src="../images/assess-inspector-findings.png" /></p>
</li>
<li>
<p>You will see findings for each of the rules packages that you used in the assessment.  The number of findings often varies by the age of the AMI (Amazon Machine Image) because older AMIs typically have more vulnerabilities than newer AMIs.  Choose one of the findings associated with the Common Vulnerabilities and Exposures rule package.  An example appears below.</p>
<p><img alt="assessment-cve-example" src="../images/assess-inspector-cve.png" /></p>
<p>Note that there is a link in the recommendation on which you can click to see the CVE entry.</p>
</li>
<li>
<p>Now that you have run the assessment and seen the findings you are ready to perform some remediation.</p>
<p>Click <a href="../remediate/">here</a> to proceed to the Remediate Phase.</p>
</li>
</ol>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../build/" title="Build Phase" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Build Phase
              </span>
            </div>
          </a>
        
        
          <a href="../remediate/" title="Remediate Phase" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Remediate Phase
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; 2019, Amazon Web Services, Inc. or its affiliates. All rights reserved.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="http://protecting-workloads.awssecworkshops.com/" class="md-footer-social__link fa fa-home"></a>
    
      <a href="https://aws.amazon.com/security/" class="md-footer-social__link fa fa-shield"></a>
    
      <a href="https://twitter.com/awssecurityinfo?lang=en" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://aws.amazon.com/blogs/security/" class="md-footer-social__link fa fa-rss"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.b806dc00.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
        <script src="../../../javascripts/extra.js"></script>
      
    
  </body>
</html>